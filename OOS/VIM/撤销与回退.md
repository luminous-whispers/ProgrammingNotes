# 神坑：vim的撤销到底撤销到哪一步？
注意有交互界面的文本编辑器的撤销操作和vim逻辑中的撤销操作并不相同。

==vim中撤销指撤回到上一次命令前的状态==
坑在于vim中的i（即进入编辑模式）只是一个命令而已，你进入编辑模式后所有的改动都只存储在一次undo操作栈中。也就是说你这次插入改动了两部分，你想撤销其中一部分，这是不可行的。

## 教训是
1. 一次插入命令，不要改动太多文本，尤其不要又删除又添加，不可能撤回
	- 这通常是由于同时混用两个系统，比如原本很熟悉windows的用户开始使用vim时，发现在插入模式下也可以用系统快捷键进行插入删除等操作，但这系统侧面的快捷键命令vim软件是感受不到的（它没有接管你的io流）。导致使用vim的u命令时，发现撤回的操作好像没有撤回想要的那一步

2. 解决办法是：插入、删除操作都用vim自带命令即可

3. 现代文本编辑器为了解决这一问题，一般按行和块来截取你的改动命令